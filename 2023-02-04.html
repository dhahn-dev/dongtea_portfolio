<!DOCTYPE html>
<html>
    <head>
        <title></title>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="bear-note-unique-identifier" content="0535CC07-F904-4646-92D1-6C3CE944B52C-2111-00000328ED6E6DB2">
        <meta name="created" content="2023-02-04T17:15:17+0900"/>
        <meta name="modified" content="2023-02-04T17:15:21+0900"/>
        <meta name="tags" content="Keras, tensorflow, SQL, MachineLearning, Crawling/Scraping, Crawling, ComputerVision, RESTApi, TimeSeriesAnalysis, Java, Python, PyTorch, AnomalyDetection"/>
        <meta name="last device" content="Donghyun의 MacBook Air"/>
    </head>
    <body>
        <div class="note-wrapper">
            <br>
<br>
<br>
<br>
<h1 id="안녕하세요,">안녕하세요,</h1>
<h1 id="Data Driven Security를 꿈꾸는 안동현입니다.">Data Driven Security를 꿈꾸는 안동현입니다. </h1>
<p><img src='2023-02-04/6DC5376A-A21D-44E3-82F9-1067F193D954.png'></p>
<br>
<br>
<hr>
<br>
<h1 id="주요 프로젝트 상세">주요 프로젝트 상세</h1>
<br>
<h1 id="H사 자동차 도메인 외부 데이터 수집 사업(2020.04~2023.02)">H사 자동차 도메인 외부 데이터 수집 사업(2020.04~2023.02)</h1>
<p><span class='hashtag'>#MachineLearning</span> <span class='hashtag'>#Crawling/Scraping</span> <span class='hashtag'>#AnomalyDetection</span> <span class='hashtag'>#Java</span> <span class='hashtag'>#SQL</span> <span class='hashtag'>#Python</span></p>
<br>
<br>
<h2 id="수행업무"> 수행업무</h2>
<p>— 사내 수집 툴을 이용하여 자동차 도메인의 데이터(뉴스, 블로그, SNS 등)를 약 1,800개 사이트(17,000개 게시판)로부터 수집하고 고객사에 데일리로 전송하는 서비스 운영을 담당</p>
<p>— Java(Selenium) 기반 전송 프로그램의 코드 리뷰 및 이슈 관리</p>
<p>— CentOS 기반 수집/전송 배치 서비스 서버 이슈 관리</p>
<p>— 수집 데이터 전송 시에 불필요한 데이터 전송을 막기위한 스팸 필터링 모델 개발</p>
<br>
<blockquote>
<p>	<span class='arrow'><svg width="11px" height="10px" viewBox="0 0 11 10" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >    <g id="right-arrow" >        <path d="M1.77635684e-14,5 L9,5" id="rod" stroke="#000000" stroke-width="2" ></path>        <path d="M11,5 L6,0.5 L6,9.5 L11,5 Z" id="point" fill="#000000"></path>    </g></svg></span> 수집된 SNS 데이터를 각 데이터 소스 별(Twitter, Youtube, Instagram)로 나누고 데이터셋을 라벨링한 후, 이를 바탕으로 머신러닝 알고리즘(베이지안 분류기, SVM)을 학습시켜 데이터 전송 시에 스팸으로 분류되는 데이터를 제외시킴으로써 전송데이터의 품질저하 방지</p>
</blockquote>
<br>
<p>— Python을 사용하여 수집 에이전트 별 데이터 수집/전송량 추이를 분석하여 이상(abnormal) 탐지</p>
<br>
<blockquote>
<p>	<span class='arrow'><svg width="11px" height="10px" viewBox="0 0 11 10" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >    <g id="right-arrow" >        <path d="M1.77635684e-14,5 L9,5" id="rod" stroke="#000000" stroke-width="2" ></path>        <path d="M11,5 L6,0.5 L6,9.5 L11,5 Z" id="point" fill="#000000"></path>    </g></svg></span> 통계기반 전송량 추이 분석을 통해 에이전트 이상 정도를 수치화하고 관리</p>
</blockquote>
<br>
<hr>
<br>
<h1 id="K사 지식그래프 구축 사업(2020.08~2023.02)">K사 지식그래프 구축 사업(2020.08~2023.02)</h1>
<p><span class='hashtag'>#Crawling/Scraping</span> <span class='hashtag'>#Java</span> <span class='hashtag'>#SQL</span> <span class='hashtag'>#Python</span></p>
<br>
<h2 id="수행업무">수행업무</h2>
<p>— 55개 시중 금융사(은행, 보험, 카드)에서 판매중인 금융상품에 대한 수집 및 전송 서비스 운영 및 관리</p>
<p>— 사내 수집 툴을 이용한 수집 대상 웹사이트 Web Element 분석 및 웹 스크래핑 룰 생성</p>
<p>— Python + Selenium 기반 파일(PDF, EXCEL) 다운로더 개발</p>
<p>— Java 기반 전송 프로그램의 코드 리뷰 및 로그 분석을 통한 이슈 관리</p>
<br>
<blockquote>
<p>	<span class='arrow'><svg width="11px" height="10px" viewBox="0 0 11 10" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >    <g id="right-arrow" >        <path d="M1.77635684e-14,5 L9,5" id="rod" stroke="#000000" stroke-width="2" ></path>        <path d="M11,5 L6,0.5 L6,9.5 L11,5 Z" id="point" fill="#000000"></path>    </g></svg></span> 최신 데이터 전송 로직의 MariaDB  테이블 스키마 오류 및 중복 데이터 체크 로직을 개선하여 기존 대비 데이터 전송량과 전송시간이 1/10, 1/3 수준으로 감소</p>
</blockquote>
<br>
<hr>
<br>
<h1 id="한국지역난방공사 빅데이터 중장기 정보화전략 수립 및 시범서비스 구축(2020.10~2021.01)">한국지역난방공사 빅데이터 중장기 정보화전략 수립 및 시범서비스 구축(2020.10~2021.01)</h1>
<p><span class='hashtag'>#Python</span> <span class='hashtag'>#Keras</span> <span class='hashtag'>#tensorflow</span> <span class='hashtag'>#SQL</span> <span class='hashtag'>#RESTApi</span> <span class='hashtag'>#TimeSeriesAnalysis</span></p>
<br>
<h2 id="프로젝트 개요">프로젝트 개요</h2>
<p>  난방공사의 열판매 데이터의 경우 각 지사에서 관리하는 검침계로부터 원격으로 전송되는  검침값에 해당</p>
<p>  대부분의 원격 검침계의 경우 다소 노후화된 상태이며 그로인해 원격 검침값의 오류 및 누락이 굉장히 빈번하게 발생</p>
<p>  검침계별 시간단위로 전송되는 검침값의 이상 상태를 빠르게 감지하고 열판매 수요 예측 모델을 개발</p>
<br>
<br>
<h2 id="수행 업무">수행 업무</h2>
<p>— 난방공사 전 지사의 과거 5개년 검침 데이터를 대상으로 누락값 및 이상치 보정을 수행하고, 이를 바탕으로 추후 실시간으로 발생하는 검침 데이터에 대하여 이상치 탐지 및 결측치 보정을 수행</p>
<p>— FLASK 기반 RESTApi 개발</p>
<br>
<br>
<h2 id="분석 대상 데이터">분석 대상 데이터	</h2>
<br>
<p>각 지사의  5개년동안의 검침계별 시간 단위 원격 검침 데이터를 활용</p>
<br>
<p>시간별 원격 검침 데이터에는 다수의 결측치(missing value)와 이상치(outlier)가 존재</p>
<blockquote>
<p>— 원격 검침 데이터 전송 시 노이즈로 인한 이상치</p>
<p>— 검침계의 교체로 인한 극대/극소 값</p>
<p>— 결측치</p>
</blockquote>
<br>
<p><img src='2023-02-04/1400EF24-A722-43F8-8FA0-4DDC66907911.png'></p>
<p><center><b><결측치 시각화 예시></b></center></p>
<p>		</p>
<br>
<br>
<p>  기존에 존재하는 이상치를 탐지 및 제거(null 값으로 치환 후 Last Observation Carried Forward 적용)</p>
<p>  이상치 제거를 위해서는 데이터에서 빈번하게 발생하는 이상 패턴 유형을 Rule based 로 탐지하는 방법과 데이터의 시계열 특성을 이용하여 AutoRegressive based 방식을 혼합하여 사용  </p>
<br>
<p><img src='2023-02-04/88A4A44C-7425-488B-BEF2-960648436DCB.png'></p>
<p><center><b><이상치 제거 과정 예시 1></b></center></p>
<p>  </p>
<br>
<p><img src='2023-02-04/E3FE75D5-824C-4F9D-A23F-FC8108D6613D.png'></p>
<p><center><b><이상치 제거 과정 예시 2></b></center></p>
<br>
<br>
<br>
<p>  검침계별 데이터의 경우 비정상성을 띄기 때문에 시계열 분석에 적합하도록 차분(differentiate)을 통해 정상화 과정을 수행한 후 분석에 사용  </p>
<br>
<p><img src='2023-02-04/89CDC467-9231-43C8-82E3-76B565E3ED1C.png'></p>
<p><center><b><검침데이터 정상성 검정></b></center></p>
<h1 id="">    </h1>
<br>
<h2 id="모델 선정">모델 선정  </h2>
<p>  </p>
<p>  모델 선정의 경우 크게 시계열 모형과 LSTM 기반의 딥러닝 모델을 선정하였으며, 선정 시에는 모델 비교를 통해 오차율 기준으로 좀 더 높은 정확도를 갖는 모델을 최종 선정  </p>
<br>
<br>
<blockquote>
<p>	— <b>시계열 모형</b>  </p>
<br>
<p>  	ARIMA 모형의 경우 각 검침계별로 데이터의 특성이 달라 주요 하이퍼파라미터(p,d,q)의 최적값을 선정하는데 한계가 있다고 판단하였으며, 검침데이터가 강한 계절성을 띄기 때문에 지수 평활법의 일종인 Holt-Winters 계절성 모형으로 최종 선정</p>
<p> 시계열 모형의 경우 단기 시계열 예측에 적합하고 적은 데이터로도 빠르게 예측이 가능하므로 실시간 처리에 적합하다고 판단  </p>
</blockquote>
<br>
<h1 id="">  </h1>
<p>  </p>
<blockquote>
<p>	— <b>Stacked LSTM</b>  </p>
<br>
<p>	GPU가 없는 개발환경과 데이터의 유형을 고려하여 LSTM 류 모델로 실험을 하였으며, LSTM, Stacked LSTM, BiLSTM, Stacked BiLSTM 모델을 학습하여 가장 낮은 오차율을 보인 Stacked BiLSTM 모델을 선정  </p>
</blockquote>
<br>
<br>
<p><img src='2023-02-04/81512F21-9235-47CC-B1D5-8F96D252BAD7.png'></p>
<p><center><b><Stacked LSTM 모델></b> </center></p>
<br>
<p>  </p>
<br>
<h2 id="모델 적용 방안">모델 적용 방안</h2>
<p>  실시간으로 발생하는 검침 데이터의 상황에 따라 누락 값 및 이상치 보정 처리 방안을 구분하여 적용  </p>
<br>
<br>
<ol start="1"><li>간헐적인 이상/누락 발생
</li></ol>
<br>
<blockquote>
<p>— LSTM 모델 기반의 실시간 보정 처리</p>
<p>— 상대적으로 긴 시간동안 이상 및 누락 값이 누적되어 발생하는 경우 LSTM 기반 모델의 오차가 갈수록 커지게 되므로 적절한 threshold를 설정하여 허용가능한 범위 내에서 LSTM 모델 적용</p>
</blockquote>
<br>
<ol start="2"><li>장기간의 이상/누락 발생
</li></ol>
<br>
<blockquote>
<p>— 상대적으로 긴 시간동안 누락되거나 이상이 발생한 경우 보간(interpolation) 및 시계열 모형을 이용한 데이터 보정 수행</p>
</blockquote>
<p>  </p>
<br>
<p><img src='2023-02-04/FD3F8F08-464E-40F2-BA64-D1B7C227B1B2.png'></p>
<p>  </p>
<br>
<br>
<h2 id="성능(오차) 측정 방안">성능(오차) 측정 방안</h2>
<br>
<p>  전체 데이터 중 이상치 제거 후 null 값이 가장 적은 상위 3개 검침계를 선정하고 <u>마스킹 length에 따른 오차 변화</u> 와 <u>랜덤하게 1~5 사이의 길이를 갖는 null 값을 임의로 마스킹하고 모델별 성능을 비교</u> 하였으며, 각 방법 별로 10번의 반복수행 후 MSE 평균으로 비교 수행</p>
<br>
<p><img src='2023-02-04/130EE378-4EF3-4517-B34C-9D29B8D9FD79.png'></p>
<br>
<br>
<p><img src='2023-02-04/0ACDBBCB-BEAE-4553-827A-5B2EB5D0FFE1.png'>  </p>
<br>
<br>
<br>
<h2 id="예측 결과 시각화 예시">예측 결과 시각화 예시</h2>
<br>
<p><img src='2023-02-04/4B2A98A8-AEC5-4708-9A9F-C4D584CBC781.png'></p>
<br>
<hr>
<br>
<br>
<h1 id="수상 내역">수상 내역</h1>
<br>
<h2 id="쏘카X한국정보과학회 AI 영상 분석 경진대회 <대상>">쏘카X한국정보과학회 AI 영상 분석 경진대회 <대상></h2>
<p><span class='hashtag'>#ComputerVision</span> <span class='hashtag'>#Python</span> <span class='hashtag'>#PyTorch</span></p>
<br>
<p><b>“블랙박스 주행영상 기반 운전자 사고 위험성 추정 모델링”</b> 라는 주제로 참여</p>
<br>
<br>
<h2 id="제안 배경">제안 배경</h2>
<br>
<ol start="1"><li><b>운전자의 사고 위험성 추정의 어려움</b>
</li></ol>
<br>
<p>— 카셰여링의 확산으로 누구나 쉽게 차량을 운전할 수 있게 되었지만, 운전 미숙련자의 주행 또한 증가함</p>
<p>— 운전 미숙련자의 주행은 사고로 이어질 가능성이 높으므로, 미숙련자를 대상으로 적절한 보조수단 필요</p>
<br>
<ol start="2"><li><b>운전 숙련도에 따른 가격구조 설정(Dynamic Pricing)</b>
</li></ol>
<br>
<p>— 운전 숙련자의 경우 사고 발생가능성이 낮으므로, 숙련도에 따라 적절한 가격구조를 설계할 수 있음</p>
<p>— 숙련자에게 보상을 지급하거나 낮은 가격으로 카셰어링 서비스를 제공할 경우 고객을 지속적으로 서비스에 Lock-in 시킬 수 있음</p>
<br>
<br>
<br>
<h2 id="제안한 아이디어">제안한 아이디어</h2>
<br>
<p>사고는 <b>자차와 주위의 Object들 간의 거리가 급격하게 줄어들 때 발생한다</b>고 가정</p>
<p> Object Detection(YOLOv3)과 Monocular Depth Estimation 알고리즘을 이용하여 운전자 주위 Object들과의 거리를 하나의 Feature Map으로 추출</p>
<p> </p>
<p>   Object Detection을 통해 사고의 요인이 되는 Object들의 bounding box 파악(i.e. 다른 차량, 이륜차, 행인 등)하고 Depth Estimation을 통해 Frame으로부터 각 픽셀의 depth를 추정</p>
<br>
<p>   Frame에 대한 bounding box 정보(x,y,w,h)로 Object Mask를 생성하고 생성된 Depth map에 pixel wise multiplication 수행</p>
<br>
<p>  최종적으로 생성된 feature는 주변 object들의 위치와 거리 관계를 담고있는 하나의 feature map이 됨</p>
<br>
<p><img src='2023-02-04/20A463B5-BE9D-468C-B710-56D6EB9AC802.png'></p>
<br>
<br>
<br>
<h2 id="모델 선정">모델 선정</h2>
<br>
<p>자차와 Object들간 관계(위치, 거리)의 시계열적 변화를 Convolutional LSTM 모델을 이용하여 모델링</p>
<br>
<p>일정 Time-window 동안의 Feature map sequence를 Input으로 설정하여, 일정 시간(프레임)동안의 운전자와 object들 사이 간격의 변화 이후 사고의 발생여부를 예측(Binary Classification)</p>
<br>
<p>Binary Classification을 위해 생성한 Sigmoid Layer에서 사고 발생으로 예측한 확률 값을 사고 위험도로 추정</p>
<br>
<p><img src='2023-02-04/FB100D09-ACC4-4D78-AE6D-1B1C523C9394.png'></p>
<br>
<br>
<br>
<h2 id="사고 케이스 분석 예시">사고 케이스 분석 예시</h2>
<p>학습한 모델을 이용하여 Test 주행 영상의 사고 위험성을 추정</p>
<br>
<p><img src='2023-02-04/5F43C824-B0D8-4F74-B802-AC6309889E80.png'></p>
<br>
<br>
<br>
<br>
<h2 id="산출물">산출물</h2>
<p><a href="https://ieeexplore.ieee.org/document/9448683">Traffic Accident Recognition in First-Person Videos by Learning a Spatio-Temporal Visual Pattern | IEEE Conference Publication | IEEE Xplore</a></p>
<br>
<p>2021 IEEE 93rd Vehicular Technology Conference (VTC2021-Spring)</p>
<p>공동저자</p>
<br>
<hr>
<br>
<h1 id="기타사항">기타사항</h1>
<h1 id="석사과정 수행 프로젝트 이력">석사과정 수행 프로젝트 이력</h1>
<p><img src='2023-02-04/C7D6A601-18E9-4E1C-8A81-86A0FBCC1B99.png'></p>
<br>

        </div>
        <script type="text/javascript">
            (function() {

    var doc_ols = document.getElementsByTagName("ol");

    for ( i=0; i<doc_ols.length; i++) {

        var ol_start = doc_ols[i].getAttribute("start") - 1;
        doc_ols[i].setAttribute("style", "counter-reset:ol_counter " + ol_start + ";");

    }

})();

        </script>
        <style>
            html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;font:inherit;font-size:100%;vertical-align:baseline}html{line-height:1}ol,ul{list-style:none}table{border-collapse:collapse;border-spacing:0}caption,th,td{text-align:left;font-weight:normal;vertical-align:middle}q,blockquote{quotes:none}q:before,q:after,blockquote:before,blockquote:after{content:"";content:none}a img{border:none}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section,summary{display:block}*{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}html{font-size:87.5%;line-height:1.57143em}html{font-size:14px;line-height:1.6em;-webkit-text-size-adjust:100%}body{background:#fcfcfc;color:#545454;text-rendering:optimizeLegibility;font-family:"AvenirNext-Regular"}a{color:#de4c4f;text-decoration:none}h1{font-family:"AvenirNext-Medium";color:#333;font-size:1.6em;line-height:1.3em;margin-bottom:.78571em}h2{font-family:"AvenirNext-Medium";color:#333;font-size:1.3em;line-height:1em;margin-bottom:.62857em}h3{font-family:"AvenirNext-Medium";color:#333;font-size:1.15em;line-height:1em;margin-bottom:.47143em}p{margin-bottom:1.57143em;hyphens:auto}hr{height:1px;border:0;background-color:#dedede;margin:-1px auto 1.57143em auto}ul,ol{margin-bottom:.31429em}ul ul,ul ol,ol ul,ol ol{margin-bottom:0px}ol{counter-reset:ol_counter}ol li:before{content:counter(ol_counter) ".";counter-increment:ol_counter;color:#e06e73;text-align:right;display:inline-block;min-width:1em;margin-right:0.5em}b,strong{font-family:"AvenirNext-Bold"}i,em{font-family:"AvenirNext-Italic"}code{font-family:"Menlo-Regular"}.text-overflow-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.sf_code_string,.sf_code_selector,.sf_code_attr-name,.sf_code_char,.sf_code_builtin,.sf_code_inserted{color:#D33905}.sf_code_comment,.sf_code_prolog,.sf_code_doctype,.sf_code_cdata{color:#838383}.sf_code_number,.sf_code_boolean{color:#0E73A2}.sf_code_keyword,.sf_code_atrule,.sf_code_rule,.sf_code_attr-value,.sf_code_function,.sf_code_class-name,.sf_code_class,.sf_code_regex,.sf_code_important,.sf_code_variable,.sf_code_interpolation{color:#0E73A2}.sf_code_property,.sf_code_tag,.sf_code_constant,.sf_code_symbol,.sf_code_deleted{color:#1B00CE}.sf_code_macro,.sf_code_entity,.sf_code_operator,.sf_code_url{color:#920448}.note-wrapper{max-width:46em;margin:0px auto;padding:1.57143em 3.14286em}.note-wrapper.spotlight-preview{overflow-x:hidden}u{text-decoration:none;background-image:linear-gradient(to bottom, rgba(0,0,0,0) 50%,#e06e73 50%);background-repeat:repeat-x;background-size:2px 2px;background-position:0 1.05em}s{color:#878787}p{margin-bottom:0.1em}hr{margin-bottom:0.7em;margin-top:0.7em}ul li{text-indent:-0.35em}ul li:before{content:"•";color:#e06e73;display:inline-block;margin-right:0.3em}ul ul{margin-left:1.25714em}ol li{text-indent:-1.45em}ol ol{margin-left:1.25714em}blockquote{display:block;margin-left:-1em;padding-left:0.8em;border-left:0.2em solid #e06e73}.todo-list ul{margin-left:1.88571em}.todo-list li{text-indent:-1.75em}.todo-list li:before{content:"";display:static;margin-right:0px}.todo-checkbox{text-indent:-1.7em}.todo-checkbox svg{margin-right:0.3em;position:relative;top:0.2em}.todo-checkbox svg #check{display:none}.todo-checkbox.todo-checked #check{display:inline}.todo-checkbox.todo-checked+.todo-text{text-decoration:line-through;color:#878787}.code-inline{display:inline;background:white;border:solid 1px #dedede;padding:0.2em 0.5em;font-size:0.9em}.code-multiline{display:block;background:white;border:solid 1px #dedede;padding:0.7em 1em;font-size:0.9em;overflow-x:auto}.hashtag{display:inline-block;color:white;background:#b8bfc2;padding:0.0em 0.5em;border-radius:1em;text-indent:0}.hashtag a{color:#fff}.address a{color:#545454;background-image:linear-gradient(to bottom, rgba(0,0,0,0) 50%,#0da35e 50%);background-repeat:repeat-x;background-size:2px 2px;background-position:0 1.05em}.address svg{position:relative;top:0.2em;display:inline-block;margin-right:0.2em}.color-preview{display:inline-block;width:1em;height:1em;border:solid 1px rgba(0,0,0,0.3);border-radius:50%;margin-right:0.1em;position:relative;top:0.2em;white-space:nowrap}.color-code{margin-right:0.2em;font-family:"Menlo-Regular";font-size:0.9em}.color-hash{opacity:0.4}.ordered-list-number{color:#e06e73;text-align:right;display:inline-block;min-width:1em}.arrow svg{position:relative;top:0.08em;display:inline-block;margin-right:0.15em;margin-left:0.15em}.arrow svg #rod{stroke:#545454}.arrow svg #point{fill:#545454}mark{color:inherit;display:inline;padding:0.2em 0.5em;background-color:#fcffc0}img{max-width:100%;height:auto}

        </style>
    </body>
</html>
